<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relief and Help Locator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Relief and Help Locator</h1>
    <div id="map"></div>
    <button id="shareLocation">Share My Location</button>
    <button id="viewReliefLocations">View Relief Locations</button>

    <script>
        let map;
let userMarker;
let reliefMarkers = [];

function initMap() {
    // Initialize the map centered at a default location
    map = new google.maps.Map(document.getElementById('map'), {
        center: { lat: 20.5937, lng: 78.9629 }, // Center of India
        zoom: 5,
    });
}

// Function to share the user's current location
document.getElementById('shareLocation').addEventListener('click', () => {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition((position) => {
            const userLocation = {
                lat: position.coords.latitude,
                lng: position.coords.longitude,
            };

            // Place a marker at the user's location
            if (userMarker) {
                userMarker.setMap(null); // Remove previous marker
            }

            userMarker = new google.maps.Marker({
                position: userLocation,
                map: map,
                title: 'Your Location',
                icon: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',
            });

            map.setCenter(userLocation);
            map.setZoom(14);
        }, () => {
            alert('Unable to fetch your location.');
        });
    } else {
        alert('Geolocation is not supported by your browser.');
    }
});

// Function to view relief locations
document.getElementById('viewReliefLocations').addEventListener('click', () => {
    // Clear existing relief markers
    reliefMarkers.forEach(marker => marker.setMap(null));
    reliefMarkers = [];

    // Example relief locations - Replace with real data from an API or database
    const reliefLocations = [
        { name: 'Relief Center 1', lat: 21.1466, lng: 79.0888 },
        { name: 'Relief Center 2', lat: 19.0760, lng: 72.8777 },
        { name: 'Relief Center 3', lat: 28.7041, lng: 77.1025 },
    ];

    // Place markers for each relief location
    reliefLocations.forEach(location => {
        const marker = new google.maps.Marker({
            position: { lat: location.lat, lng: location.lng },
            map: map,
            title: location.name,
            icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
        });

        const infoWindow = new google.maps.InfoWindow({
            content: `<h3>${location.name}</h3>`,
        });

        marker.addListener('click', () => {
            infoWindow.open(map, marker);
        });

        reliefMarkers.push(marker);
    });

    // Adjust the map view to fit all relief locations
    const bounds = new google.maps.LatLngBounds();
    reliefMarkers.forEach(marker => bounds.extend(marker.getPosition()));
    map.fitBounds(bounds);
});

    </script>
    <!-- Replace 'YOUR_API_KEY' with your actual Google Maps API key -->
    <script src="https://maps.googleapis.com/maps/api/js?key=916ea12a98edcf2f3b62e4f574b8bb9687399d93&callback=initMap" async defer></script>
</body>
<style>
    body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
}

#map {
    height: 500px;
    width: 100%;
    margin-bottom: 20px;
}

button {
    padding: 10px 20px;
    margin: 10px;
    cursor: pointer;
    border: none;
    background-color: #4CAF50;
    color: white;
    border-radius: 5px;
}

button:hover {
    background-color: #45a049;
}

</style>
</html>
